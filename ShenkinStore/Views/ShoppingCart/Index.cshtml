@model ShenkinStore.ViewModels.ShoppingCartViewModel

@{ ViewBag.Title = "Store Checkout";
    Layout = "~/Views/Shared/_Layout.cshtml"; }

<h3 class="text-right">
    <span>Your Cart</span>
</h3>

@if (Model.CartItems.Count == 0)
{
<a class="btn btn-danger text-right middle-block" href='@Url.Action("Index", "Products")'>Your Cart is empty continue buy</a> }
else
{
<table class="table-responsive table-bordered table-striped">
    <tr class="text-right">
        <th>
            Product Name
        </th>

        <th>
            Price
        </th>
        <th>
            Remove
        </th>
    </tr>
    @foreach (var item in Model.CartItems)
    {
        if (item.sold == false)
        {
<tr id="row-@item.ProductId">
    <td>
        @Html.ActionLink(item.ProductName, "Details", "Products", new { id = item.ProductId }, null);
    </td>
    <td>
        @item.Price
    </td>
    <td class="text-right">
        @Html.ActionLink("Remove From Cart", "removefromcart", "ShoppingCart", new { id = item.ProductId }, null);
    </td>
</tr>
}
}
    <tr class="text-right">
        <td>
            Total:
        </td>
        <td></td>
        <td id="cart-total" class="text-right">
            <b>@Model.CartTotal.ToString()</b>
        </td>
    </tr>
</table>

                <p class="button">
                    <a class="btn btn-danger" href='@Url.Action("Index", "Home")'>Continue Buy</a>
                </p>
                                <p class="button">
                                    <a class="btn btn-danger" href='@Url.Action("AddressAndPayment", "Transactions")'>Proceed To Pay</a>
                                </p>
                                                <p class="button">
                                                    <a class="btn btn-danger" href='@Url.Action("emptyCart", "ShoppingCart")'> Empty Cart</a>
                                                </p>}

